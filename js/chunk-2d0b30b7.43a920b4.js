(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b30b7"],{2762:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{attrs:{type:"button",title:"开启摄像头",value:"开启摄像头",onclick:"getMedia();"}}),i("br"),i("video",{attrs:{height:"120px",autoplay:"autoplay"}}),i("hr"),i("input",{attrs:{type:"button",title:"拍照",value:"拍照",onclick:"getPhoto();"}}),i("br"),i("canvas",{attrs:{id:"canvas1",height:"120px"}}),i("hr"),i("input",{attrs:{type:"button",title:"视频",value:"视频",onclick:"getVedio();"}}),i("br"),i("canvas",{attrs:{id:"canvas2",height:"120px"}})])}],n=(new VConsole,{data:function(){return{video:"",audio:"",audioType:"",canvas1:"",context1:"",canvas2:"",context2:"",exArray:[]}},mounted:function(){this.video=document.querySelector("video"),this.canvas1=document.getElementById("canvas1"),this.context1=this.canvas1.getContext("2d"),this.canvas2=document.getElementById("canvas2"),this.context2=this.canvas2.getContext("2d"),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,MediaStreamTrack.getSources(function(t){for(var e=0;e!=t.length;++e){var i=t[e];"video"===i.kind&&this.exArray.push(i.id)}})},methods:{getMedia:function(){navigator.getUserMedia?navigator.getUserMedia({video:{optional:[{sourceId:this.exArray[1]}]},audio:!0},successFunc,errorFunc):alert("Native device media streaming (getUserMedia) not supported in this browser.")},successFunc:function(t){void 0!==this.video.mozSrcObject?this.video.mozSrcObject=t:this.video.src=window.URL&&window.URL.createObjectURL(t)||t,this.audio=new Audio,this.audioType=getAudioType(this.audio),this.audioType&&(this.audio.src="polaroid."+this.audioType,this.audio.play())},errorFunc:function(t){alert("Error！"+t)},drawVideoAtCanvas:function(t){window.setInterval(function(){t.drawImage(this.video,0,0,90,120)},60)},getAudioType:function(t){if(t.canPlayType){if(""!==t.canPlayType('audio/mp4; codecs="mp4a.40.5"'))return"aac";if(""!==t.canPlayType('audio/ogg; codecs="vorbis"'))return"ogg"}return!1},getPhoto:function(){this.context1.drawImage(this.video,0,0,90,120)},getVedio:function(){drawVideoAtCanvas(this.context2)}}}),r=n,s=i("2877"),d=Object(s["a"])(r,a,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b30b7.43a920b4.js.map